<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>beGAK.com - Profil</title>
    <link href="https://fonts.googleapis.com/css2?family=Righteous&family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="profil.css">
    <script>
        // Oturum kontrolÃ¼
        window.onload = function() {
            const authToken = localStorage.getItem('authToken');
            const userData = JSON.parse(localStorage.getItem('user') || '{}');
            
            // EÄŸer authToken yoksa veya userData boÅŸsa, login sayfasÄ±na yÃ¶nlendir
            if (!authToken || !userData.studentNumber) {
                window.location.href = '../login/login_screen.html';
                return;
            }
        }
    </script>
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar">
        <div class="brand">
            <div class="brand-logo">bG</div>
            <a href="../anasayfa/anasayfa_screen.html" class="brand-name">beGAK.com</a>
        </div>
        <div class="nav-links">
            <a href="../anasayfa/anasayfa_screen.html"><i class="fas fa-home"></i> Ana Sayfa</a>
            <a href="../sosyal_etkinlikler/sosyal_etkinlikler_screen.html"><i class="fas fa-calendar-alt"></i> Sosyal Etkinlikler</a>
            <a href="../profil/profil_screen.html" class="active"><i class="fas fa-user"></i> Profil</a>
            <a href="../mesajlar/mesajlar_screen.html"><i class="fas fa-envelope"></i> Mesajlar</a>
            <a href="../kulupler/kulupler_screen.html"><i class="fas fa-users"></i> KulÃ¼pler</a>
            <a href="#" onclick="return handleLogout()"><i class="fas fa-sign-out-alt"></i> Ã‡Ä±kÄ±ÅŸ Yap</a>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="main-content">
        <!-- Profile Sidebar -->
        <div class="profile-sidebar">
            <!-- Profile Card -->
            <div class="profile-card">
                <div class="profile-photo-container">
                    <div class="profile-photo" id="profilePhotoPreview">
                        <i class="fas fa-user"></i>
                    </div>
                    <div class="photo-edit-btn" onclick="document.getElementById('photoInput').click()">
                        <i class="fas fa-camera"></i>
                    </div>
                    <input type="file" id="photoInput" accept="image/*" style="display: none;" onchange="previewProfilePhoto(event)">
                </div>
                <h2 class="profile-name" id="profileName">KullanÄ±cÄ± AdÄ±</h2>
                <p class="profile-role" id="profileRole">Ã–ÄŸrenci</p>
                <div class="profile-actions">
                    <a href="edit_profile_screen.html" class="btn-edit">
                        <i class="fas fa-edit"></i> Profili DÃ¼zenle
                    </a>
                </div>
            </div>

            <!-- Information Section -->
            <div class="sidebar-info">
                <div class="sidebar-info-item">
                    <div class="sidebar-info-icon">
                        <i class="fas fa-envelope"></i>
                    </div>
                    <div class="sidebar-info-content">
                        <div class="sidebar-info-label">E-posta</div>
                        <div class="sidebar-info-value" id="profileEmail">kullanici@firat.edu.tr</div>
                    </div>
                </div>
                
                <div class="sidebar-info-item">
                    <div class="sidebar-info-icon">
                        <i class="fas fa-phone"></i>
                    </div>
                    <div class="sidebar-info-content">
                        <div class="sidebar-info-label">Telefon</div>
                        <div class="sidebar-info-value" id="profilePhone">+90 555 123 4567</div>
                    </div>
                </div>
                
                <div class="sidebar-info-item">
                    <div class="sidebar-info-icon">
                        <i class="fas fa-graduation-cap"></i>
                    </div>
                    <div class="sidebar-info-content">
                        <div class="sidebar-info-label">BÃ¶lÃ¼m</div>
                        <div class="sidebar-info-value" id="profileDepartment">YazÄ±lÄ±m MÃ¼hendisliÄŸi</div>
                    </div>
                </div>
                
                <div class="sidebar-info-item">
                    <div class="sidebar-info-icon">
                        <i class="fas fa-calendar-check"></i>
                    </div>
                    <div class="sidebar-info-content">
                        <div class="sidebar-info-label">Mezuniyet YÄ±lÄ±</div>
                        <div class="sidebar-info-value" id="profileGraduationYear">BelirtilmemiÅŸ</div>
                    </div>
                </div>
                
                <div class="sidebar-info-item">
                    <div class="sidebar-info-icon">
                        <i class="fas fa-calendar-alt"></i>
                    </div>
                    <div class="sidebar-info-content">
                        <div class="sidebar-info-label">KayÄ±t Tarihi</div>
                        <div class="sidebar-info-value" id="profileJoinDate">15 EylÃ¼l 2023</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Profile Feed - Orta KÄ±sÄ±m (GÃ¶nderiler) -->
        <div class="profile-feed">
            <!-- Yeni GÃ¶nderi OluÅŸturma -->
            <div class="new-post-card">
                <div class="new-post-header">
                    <div class="new-post-avatar">
                        <img id="userAvatar" src="" alt="KullanÄ±cÄ± FotoÄŸrafÄ±">
                    </div>
                    <div class="new-post-input-wrapper">
                        <textarea class="new-post-input" placeholder="Ne dÃ¼ÅŸÃ¼nÃ¼yorsun?"></textarea>
                    </div>
                </div>
                <div class="new-post-actions">
                    <div class="new-post-tools">
                        <div class="new-post-tool" title="FotoÄŸraf Ekle">
                            <i class="fas fa-image"></i>
                        </div>
                        <div class="new-post-tool" title="Video Ekle">
                            <i class="fas fa-video"></i>
                        </div>
                        <div class="new-post-tool" title="Dosya Ekle">
                            <i class="fas fa-file-alt"></i>
                        </div>
                        <div class="new-post-tool" title="Konum Ekle">
                            <i class="fas fa-map-marker-alt"></i>
                        </div>
                    </div>  
                    <button class="new-post-submit">PaylaÅŸ</button>
                </div>
            </div>

            <!-- Ã–rnek GÃ¶nderi 1 -->
            <div class="post-card">
                <div class="post-header">
                    <div class="post-user-photo">
                        <img id="post1UserPhoto" src="" alt="KullanÄ±cÄ± FotoÄŸrafÄ±">
                    </div>
                    <div class="post-user-info">
                        <span class="post-username" id="profileName2">Ad Soyad</span>
                        <span class="post-time">2 saat Ã¶nce</span>
                    </div>
                    <div class="post-options">
                        <i class="fas fa-ellipsis-h"></i>
                    </div>
                </div>
                <div class="post-content">
                    <div class="post-text">
                        BugÃ¼n YazÄ±lÄ±m MÃ¼hendisliÄŸi kulÃ¼bÃ¼nÃ¼n dÃ¼zenlediÄŸi etkinliÄŸe katÄ±ldÄ±m. Harika bir deneyimdi!
                    </div>
                    <div class="post-image">
                        <img src="https://picsum.photos/600/400?random=1" alt="GÃ¶nderi GÃ¶rseli">
                    </div>
                    <div class="post-tags">
                        <span class="post-tag">#YazÄ±lÄ±mMÃ¼hendisliÄŸi</span>
                        <span class="post-tag">#KulÃ¼bEtkinlikleri</span>
                    </div>
                    <div class="post-attachment">
                        <div class="attachment-icon">
                            <i class="fas fa-file-pdf"></i>
                        </div>
                        <div class="attachment-info">
                            <div class="attachment-name">EtkinlikRaporu.pdf</div>
                            <div class="attachment-size">1.2 MB</div>
                        </div>
                        <div class="attachment-download">
                            <i class="fas fa-download"></i>
                        </div>
                    </div>
                </div>
                <div class="post-actions">
                    <div class="post-action">
                        <i class="fas fa-thumbs-up"></i>
                        <span>23 BeÄŸeni</span>
                    </div>
                    <div class="post-action">
                        <i class="fas fa-comment"></i>
                        <span>8 Yorum</span>
                    </div>
                    <div class="post-action">
                        <i class="fas fa-share"></i>
                        <span>PaylaÅŸ</span>
                    </div>
                </div>
                <div class="post-comments">
                    <div class="post-comment">
                        <div class="comment-avatar">
                            <img src="https://picsum.photos/100/100?random=2" alt="KullanÄ±cÄ± AvatarÄ±">
                        </div>
                        <div class="comment-content">
                            <div class="comment-username">Mehmet Demir</div>
                            <div class="comment-text">Ã‡ok gÃ¼zel gÃ¶rÃ¼nÃ¼yor! Bir sonraki etkinliÄŸe ben de geleceÄŸim.</div>
                            <div class="comment-time">1 saat Ã¶nce</div>
                        </div>
                    </div>
                    <div class="post-comment">
                        <div class="comment-avatar">
                            <img src="https://picsum.photos/100/100?random=3" alt="KullanÄ±cÄ± AvatarÄ±">
                        </div>
                        <div class="comment-content">
                            <div class="comment-username">AyÅŸe Kaya</div>
                            <div class="comment-text">Hangi konular tartÄ±ÅŸÄ±ldÄ±? Biraz bilgi verebilir misin?</div>
                            <div class="comment-time">40 dakika Ã¶nce</div>
                        </div>
                    </div>
                </div>
                <div class="post-comment-form">
                    <div class="comment-avatar-small">
                        <img id="commentUserPhoto1" src="" alt="KullanÄ±cÄ± AvatarÄ±">
                    </div>
                    <div class="comment-input-wrapper">
                        <input type="text" class="comment-input" placeholder="Yorum yaz...">
                        <button class="comment-submit">
                            <i class="fas fa-paper-plane"></i>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Ã–rnek GÃ¶nderi 2 -->
            <div class="post-card">
                <div class="post-header">
                    <div class="post-user-photo">
                        <img id="post2UserPhoto" src="" alt="KullanÄ±cÄ± FotoÄŸrafÄ±">
                    </div>
                    <div class="post-user-info">
                        <span class="post-username" id="profileName3">Ad Soyad</span>
                        <span class="post-time">DÃ¼n</span>
                    </div>
                    <div class="post-options">
                        <i class="fas fa-ellipsis-h"></i>
                    </div>
                </div>
                <div class="post-content">
                    <div class="post-text">
                        Veri YapÄ±larÄ± ve Algoritmalar dersindeki final projemi tamamladÄ±m! ðŸŽ‰
                    </div>
                    <div class="post-tags">
                        <span class="post-tag">#VeriYapÄ±larÄ±</span>
                        <span class="post-tag">#Algoritma</span>
                        <span class="post-tag">#Programlama</span>
                    </div>
                    <div class="post-attachment">
                        <div class="attachment-icon">
                            <i class="fas fa-file-pdf"></i>
                        </div>
                        <div class="attachment-info">
                            <div class="attachment-name">VeriYapÄ±larÄ±FinalProjesi.pdf</div>
                            <div class="attachment-size">2.4 MB</div>
                        </div>
                        <div class="attachment-download">
                            <i class="fas fa-download"></i>
                        </div>
                    </div>
                </div>
                <div class="post-actions">
                    <div class="post-action liked">
                        <i class="fas fa-thumbs-up"></i>
                        <span>47 BeÄŸeni</span>
                    </div>
                    <div class="post-action">
                        <i class="fas fa-comment"></i>
                        <span>12 Yorum</span>
                    </div>
                    <div class="post-action">
                        <i class="fas fa-share"></i>
                        <span>PaylaÅŸ</span>
                    </div>
                </div>
                <div class="post-comments">
                    <div class="post-comment">
                        <div class="comment-avatar">
                            <img src="https://picsum.photos/100/100?random=4" alt="KullanÄ±cÄ± AvatarÄ±">
                        </div>
                        <div class="comment-content">
                            <div class="comment-username">Prof. Dr. Ahmet YÄ±lmaz</div>
                            <div class="comment-text">Tebrikler! Ã‡ok baÅŸarÄ±lÄ± bir proje olmuÅŸ. Ã–zellikle ikili aÄŸaÃ§ implementasyonu Ã§ok etkileyici.</div>
                            <div class="comment-time">DÃ¼n</div>
                        </div>
                    </div>
                    <div class="post-comment">
                        <div class="comment-avatar">
                            <img src="https://picsum.photos/100/100?random=5" alt="KullanÄ±cÄ± AvatarÄ±">
                        </div>
                        <div class="comment-content">
                            <div class="comment-username">Burak Kaya</div>
                            <div class="comment-text">Benimle paylaÅŸabilir misin? Benim de projeme yardÄ±mcÄ± olabilir.</div>
                            <div class="comment-time">DÃ¼n</div>
                        </div>
                    </div>
                </div>
                <div class="post-comment-form">
                    <div class="comment-avatar-small">
                        <img id="commentUserPhoto2" src="" alt="KullanÄ±cÄ± AvatarÄ±">
                    </div>
                    <div class="comment-input-wrapper">
                        <input type="text" class="comment-input" placeholder="Yorum yaz...">
                        <button class="comment-submit">
                            <i class="fas fa-paper-plane"></i>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Ã–rnek GÃ¶nderi 3 - FotoÄŸraf Galerisi -->
            <div class="post-card">
                <div class="post-header">
                    <div class="post-user-photo">
                        <img id="post3UserPhoto" src="" alt="KullanÄ±cÄ± FotoÄŸrafÄ±">
                    </div>
                    <div class="post-user-info">
                        <span class="post-username" id="profileName4">Ad Soyad</span>
                        <span class="post-time">GeÃ§en hafta</span>
                    </div>
                    <div class="post-options">
                        <i class="fas fa-ellipsis-h"></i>
                    </div>
                </div>
                <div class="post-content">
                    <div class="post-text">
                        Robotik KulÃ¼bÃ¼'nÃ¼n dÃ¼zenlediÄŸi Teknoloji Festivali'nden kareler ðŸ¤– Harika bir deneyimdi!
                    </div>
                    <div class="post-gallery">
                        <div class="gallery-item gallery-main">
                            <img src="https://picsum.photos/800/450?random=10" alt="Festival Ana GÃ¶rseli">
                        </div>
                        <div class="gallery-item">
                            <img src="https://picsum.photos/400/300?random=11" alt="Festival GÃ¶rseli 1">
                        </div>
                        <div class="gallery-item">
                            <img src="https://picsum.photos/400/300?random=12" alt="Festival GÃ¶rseli 2">
                        </div>
                    </div>
                </div>
                <div class="post-actions">
                    <div class="post-action">
                        <i class="fas fa-thumbs-up"></i>
                        <span>89 BeÄŸeni</span>
                    </div>
                    <div class="post-action">
                        <i class="fas fa-comment"></i>
                        <span>15 Yorum</span>
                    </div>
                    <div class="post-action">
                        <i class="fas fa-share"></i>
                        <span>PaylaÅŸ</span>
                    </div>
                </div>
                <div class="post-comments">
                    <div class="post-comment">
                        <div class="comment-avatar">
                            <img src="https://picsum.photos/100/100?random=6" alt="KullanÄ±cÄ± AvatarÄ±">
                        </div>
                        <div class="comment-content">
                            <div class="comment-username">Deniz Åžahin</div>
                            <div class="comment-text">Bu yÄ±lki festival gerÃ§ekten muhteÅŸemdi! Ã–zellikle drone yarÄ±ÅŸmasÄ± Ã§ok heyecanlÄ±ydÄ±.</div>
                            <div class="comment-time">GeÃ§en hafta</div>
                        </div>
                    </div>
                    <div class="post-comment">
                        <div class="comment-avatar">
                            <img src="https://picsum.photos/100/100?random=7" alt="KullanÄ±cÄ± AvatarÄ±">
                        </div>
                        <div class="comment-content">
                            <div class="comment-username">Elif YÄ±lmaz</div>
                            <div class="comment-text">Bir sonraki festivalde ben de katÄ±lmak istiyorum. KatÄ±lÄ±m koÅŸullarÄ± nelerdi?</div>
                            <div class="comment-time">GeÃ§en hafta</div>
                        </div>
                    </div>
                </div>
                <div class="post-comment-form">
                    <div class="comment-avatar-small">
                        <img id="commentUserPhoto3" src="" alt="KullanÄ±cÄ± AvatarÄ±">
                    </div>
                    <div class="comment-input-wrapper">
                        <input type="text" class="comment-input" placeholder="Yorum yaz...">
                        <button class="comment-submit">
                            <i class="fas fa-paper-plane"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Profile Details - SaÄŸ Kenar -->
        <div class="profile-details">
            <!-- Biyografi -->
            <div class="content-card">
                <h3 class="section-title"><i class="fas fa-user-edit"></i> Biyografi</h3>
                
                <div class="info-item">
                    <div class="info-icon">
                        <i class="fas fa-info-circle"></i>
                    </div>
                    <div class="info-content">
                        <div class="info-label">HakkÄ±mda</div>
                        <div class="info-value" id="profileBio">HenÃ¼z bir biyografi eklenmemiÅŸ.</div>
                    </div>
                </div>
                
                <div class="info-item">
                    <div class="info-icon">
                        <i class="fas fa-heart"></i>
                    </div>
                    <div class="info-content">
                        <div class="info-label">Ä°lgi AlanlarÄ±</div>
                        <div class="info-value" id="profileInterests">HenÃ¼z ilgi alanÄ± eklenmemiÅŸ.</div>
                    </div>
                </div>
            </div>
            
            <!-- KulÃ¼pler BÃ¶lÃ¼mÃ¼ -->
            <div class="content-card">
                <h3 class="section-title"><i class="fas fa-users"></i> Ãœye OlduÄŸu KulÃ¼pler</h3>
                
                <div class="clubs-grid">
                    <div class="club-card">
                        <div class="club-icon">
                            <i class="fas fa-code"></i>
                        </div>
                        <div class="club-name">YazÄ±lÄ±m KulÃ¼bÃ¼</div>
                    </div>
                    
                    <div class="club-card">
                        <div class="club-icon">
                            <i class="fas fa-robot"></i>
                        </div>
                        <div class="club-name">Robotik KulÃ¼bÃ¼</div>
                    </div>
                    
                    <div class="club-card">
                        <div class="club-icon">
                            <i class="fas fa-paint-brush"></i>
                        </div>
                        <div class="club-name">TasarÄ±m KulÃ¼bÃ¼</div>
                    </div>
                </div>
            </div>
            
            <!-- Aktiviteler BÃ¶lÃ¼mÃ¼ -->
            <div class="content-card">
                <h3 class="section-title"><i class="fas fa-calendar-week"></i> Son Aktiviteler</h3>
                
                <div class="info-item">
                    <div class="info-icon">
                        <i class="fas fa-comment-alt"></i>
                    </div>
                    <div class="info-content">
                        <div class="info-label">Etkinlik</div>
                        <div class="info-value">YazÄ±lÄ±m KulÃ¼bÃ¼'nÃ¼n "Web GeliÅŸtirme" etkinliÄŸine katÄ±ldÄ±.</div>
                    </div>
                </div>
                
                <div class="info-item">
                    <div class="info-icon">
                        <i class="fas fa-certificate"></i>
                    </div>
                    <div class="info-content">
                        <div class="info-label">BaÅŸarÄ±</div>
                        <div class="info-value">Python programlama kursunu tamamladÄ±.</div>
                    </div>
                </div>
                
                <div class="info-item">
                    <div class="info-icon">
                        <i class="fas fa-user-plus"></i>
                    </div>
                    <div class="info-content">
                        <div class="info-label">Ãœyelik</div>
                        <div class="info-value">Veri Bilimi TopluluÄŸu'na katÄ±ldÄ±.</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Sayfa yÃ¼klendiÄŸinde kullanÄ±cÄ± bilgilerini yÃ¼kle
        document.addEventListener('DOMContentLoaded', async function() {
            // Oturum kontrolÃ¼
            const isLoggedIn = await checkSession();
            if (!isLoggedIn) {
                window.location.href = '../login/login_screen.html';
                return;
            }

            // KullanÄ±cÄ± bilgilerini al
            const userData = JSON.parse(localStorage.getItem('user') || '{}');
            if (!userData.studentNumber) {
                window.location.href = '../login/login_screen.html';
                return;
            }

            // Profil bilgilerini yÃ¼kle
            loadProfile(userData.email.split('@')[0]);
            
            // KullanÄ±cÄ± fotoÄŸraflarÄ±nÄ± yÃ¼kle
            loadUserPhotos();
        });

        // KullanÄ±cÄ± fotoÄŸraflarÄ±nÄ± yÃ¼kle
        function loadUserPhotos() {
            const userData = JSON.parse(localStorage.getItem('user') || '{}');
            const userPhoto = userData.photo || '';
            
            // Avatar fotoÄŸraflarÄ±nÄ± gÃ¼ncelle
            const avatarElements = [
                document.getElementById('userAvatar'),
                document.getElementById('post1UserPhoto'),
                document.getElementById('post2UserPhoto'),
                document.getElementById('post3UserPhoto'),
                document.getElementById('commentUserPhoto1'),
                document.getElementById('commentUserPhoto2'),
                document.getElementById('commentUserPhoto3')
            ];
            
            avatarElements.forEach(element => {
                if (element) {
                    if (userPhoto) {
                        element.src = userPhoto;
                        element.style.display = 'block';
                    } else {
                        element.style.display = 'none';
                        element.parentElement.style.background = 'linear-gradient(135deg, var(--primary-color), var(--accent-color))';
                        element.parentElement.textContent = userData.username?.charAt(0).toUpperCase() || 'U';
                    }
                }
            });
            
            // Profil adÄ±nÄ± gÃ¶nderilerde gÃ¼ncelle
            const profileNames = [
                document.getElementById('profileName2'),
                document.getElementById('profileName3'),
                document.getElementById('profileName4')
            ];
            
            profileNames.forEach(element => {
                if (element) {
                    element.textContent = userData.firstName && userData.lastName 
                        ? `${userData.firstName} ${userData.lastName}` 
                        : userData.username || 'Ad Soyad';
                }
            });
        }

        // Profil bilgilerini yÃ¼kle
        async function loadProfile(username) {
            try {
                const profile = await getProfile(username);
                updateProfileUI(profile);
            } catch (error) {
                console.error('Profil yÃ¼klenirken hata:', error);
            }
        }

        // Profil bilgilerini arayÃ¼ze yansÄ±t
        function updateProfileUI(profile) {
            const profilePhoto = document.getElementById('profilePhotoPreview');
            if (profile.photo) {
                profilePhoto.style.backgroundImage = `url(${profile.photo})`;
                profilePhoto.style.backgroundSize = 'cover';
                profilePhoto.style.backgroundPosition = 'center';
            } else {
                profilePhoto.style.backgroundImage = 'none';
                profilePhoto.innerHTML = '<i class="fas fa-user"></i>';
            }
            document.getElementById('profileName').textContent = profile.username;
            document.getElementById('profileRole').textContent = profile.title || 'Ã–ÄŸrenci';
            document.getElementById('profileEmail').textContent = profile.email;
            document.getElementById('profilePhone').textContent = profile.phone || 'BelirtilmemiÅŸ';
            document.getElementById('profileDepartment').textContent = profile.department || 'BelirtilmemiÅŸ';
            document.getElementById('profileGraduationYear').textContent = profile.graduationYear || 'BelirtilmemiÅŸ';
            document.getElementById('profileJoinDate').textContent = formatDate(profile.joinDate);
            document.getElementById('profileBio').textContent = profile.bio || 'HenÃ¼z bir biyografi eklenmemiÅŸ.';
            document.getElementById('profileInterests').textContent = profile.interests || 'HenÃ¼z ilgi alanÄ± eklenmemiÅŸ.';
            
            // Profil istatistiklerini gÃ¼ncelle
            const statValues = document.querySelectorAll('.stat-value');
            if(statValues.length >= 3) {
                statValues[0].textContent = profile.stats.posts;
                statValues[1].textContent = profile.stats.followers;
                statValues[2].textContent = profile.stats.following;
            }

            // KulÃ¼pleri yÃ¼kle
            const clubsGrid = document.querySelector('.clubs-grid');
            clubsGrid.innerHTML = '';
            
            if (profile.clubs && profile.clubs.length > 0) {
                profile.clubs.forEach(club => {
                    const clubCard = document.createElement('div');
                    clubCard.className = 'club-card';
                    clubCard.innerHTML = `
                        <div class="club-icon">
                            <i class="${club.icon || 'fas fa-users'}"></i>
                        </div>
                        <div class="club-name">${club.name}</div>
                    `;
                    clubsGrid.appendChild(clubCard);
                });
            } else {
                clubsGrid.innerHTML = '<p>HenÃ¼z hiÃ§ kulÃ¼be Ã¼ye deÄŸilsiniz.</p>';
            }
        }

        // Tarih formatÄ±
        function formatDate(dateString) {
            const options = { day: 'numeric', month: 'long', year: 'numeric' };
            return new Date(dateString).toLocaleDateString('tr-TR', options);
        }

        // Ã‡Ä±kÄ±ÅŸ yapma
        function handleLogout() {
            // Ã‡Ä±kÄ±ÅŸ iÃ§in onay al
            if (confirm("Ã‡Ä±kÄ±ÅŸ yapmak istediÄŸinize emin misiniz?")) {
                // KullanÄ±cÄ± onayladÄ±ysa Ã§Ä±kÄ±ÅŸ iÅŸlemleri yap
                localStorage.removeItem('authToken');
                localStorage.removeItem('user');
                window.location.href = '../login/login_screen.html';
                return true;
            }
            // KullanÄ±cÄ± onaylamadÄ±ysa hiÃ§bir ÅŸey yapma
            return false;
        }

        /* Backend FonksiyonlarÄ± (simÃ¼le edilmiÅŸ) */

        // Oturum kontrolÃ¼
        async function checkSession() {
            return !!localStorage.getItem('authToken');
        }

        // Profil bilgilerini getir
        async function getProfile(username) {
            // localStorage'dan kullanÄ±cÄ± bilgilerini al
            const userData = JSON.parse(localStorage.getItem('user') || '{}');
            
            // BÃ¶lÃ¼m seÃ§eneklerini tanÄ±mla
            const departments = {
                'bilgisayar': 'Bilgisayar MÃ¼hendisliÄŸi',
                'yazilim': 'YazÄ±lÄ±m MÃ¼hendisliÄŸi',
                'elektrik': 'Elektrik-Elektronik MÃ¼hendisliÄŸi',
                'makine': 'Makine MÃ¼hendisliÄŸi',
                'endustri': 'EndÃ¼stri MÃ¼hendisliÄŸi',
                'insaat': 'Ä°nÅŸaat MÃ¼hendisliÄŸi',
                'mimarlik': 'MimarlÄ±k',
                'tip': 'TÄ±p',
                'dis': 'DiÅŸ HekimliÄŸi',
                'eczacilik': 'EczacÄ±lÄ±k',
                'hukuk': 'Hukuk',
                'iktisat': 'Ä°ktisat',
                'isletme': 'Ä°ÅŸletme',
                'egitim': 'EÄŸitim Bilimleri',
                'fen': 'Fen-Edebiyat',
                'ilahiyat': 'Ä°lahiyat',
                'iletisim': 'Ä°letiÅŸim',
                'diger': 'DiÄŸer'
            };

            // SeÃ§ilen bÃ¶lÃ¼mÃ¼n tam adÄ±nÄ± al
            const selectedDepartment = userData?.department ? departments[userData.department] || userData.department : 'BÃ¶lÃ¼m SeÃ§ilmedi';
            
            // Mezuniyet yÄ±lÄ± bilgisini al
            const graduationYear = userData?.graduationYear === 'mezun_degil' ? 'HenÃ¼z mezun deÄŸilim' : userData?.graduationYear || 'BelirtilmemiÅŸ';
            
            return {
                username: userData.username || username,
                email: userData.email || `${username}@firat.edu.tr`,
                phone: userData.phone || 'BelirtilmemiÅŸ',
                department: selectedDepartment,
                title: selectedDepartment !== 'BÃ¶lÃ¼m SeÃ§ilmedi' ? `${selectedDepartment} Ã–ÄŸrencisi` : 'Ã–ÄŸrenci',
                graduationYear: graduationYear,
                joinDate: new Date('2023-09-15').toISOString(),
                photo: userData.photo || '',
                bio: userData.bio || 'HenÃ¼z bir biyografi eklenmemiÅŸ.',
                interests: userData.interests || 'HenÃ¼z ilgi alanÄ± eklenmemiÅŸ.',
                stats: {
                    posts: 128,
                    followers: 456,
                    following: 234
                },
                clubs: [
                    { name: 'YazÄ±lÄ±m KulÃ¼bÃ¼', icon: 'fas fa-code' },
                    { name: 'Robotik KulÃ¼bÃ¼', icon: 'fas fa-robot' },
                    { name: 'TasarÄ±m KulÃ¼bÃ¼', icon: 'fas fa-paint-brush' }
                ]
            };
        }

        // Profil fotoÄŸrafÄ± yÃ¼kleme
        const profilePhoto = document.getElementById('profilePhotoPreview');
        const photoUploadOverlay = document.querySelector('.photo-upload-overlay');
        const fileInput = document.createElement('input');
        fileInput.type = 'file';
        fileInput.accept = 'image/*';
        fileInput.style.display = 'none';

        profilePhoto.parentElement.addEventListener('click', () => {
            fileInput.click();
        });

        fileInput.addEventListener('change', (e) => {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = (e) => {
                    profilePhoto.style.backgroundImage = `url(${e.target.result})`;
                    profilePhoto.style.backgroundSize = 'cover';
                    profilePhoto.style.backgroundPosition = 'center';
                    
                    // FotoÄŸrafÄ± localStorage'a kaydet
                    const userData = JSON.parse(localStorage.getItem('user') || '{}');
                    userData.photo = e.target.result;
                    localStorage.setItem('user', JSON.stringify(userData));
                };
                reader.readAsDataURL(file);
            }
        });

        // Sayfa yÃ¼klendiÄŸinde profil fotoÄŸrafÄ±nÄ± yÃ¼kle
        document.addEventListener('DOMContentLoaded', () => {
            const userData = JSON.parse(localStorage.getItem('user') || '{}');
            if (userData.photo) {
                profilePhoto.style.backgroundImage = `url(${userData.photo})`;
                profilePhoto.style.backgroundSize = 'cover';
                profilePhoto.style.backgroundPosition = 'center';
            } else {
                profilePhoto.style.backgroundImage = 'none';
                profilePhoto.innerHTML = '<i class="fas fa-user"></i>';
            }
        });

        function loadUserData() {
            const userData = JSON.parse(localStorage.getItem('user')) || {};
            
            // Profil fotoÄŸrafÄ± ve gizlilik kontrolÃ¼
            const profilePhoto = document.querySelector('.profile-photo');
            if (userData.isPrivate) {
                // Gizlilik aÃ§Ä±k olduÄŸunda tÃ¼m bilgileri gizle
                document.querySelector('.profile-name').textContent = 'Gizli Profil';
                document.querySelector('.profile-role').textContent = 'Bu profil gizli';
                document.querySelector('.profile-stats').style.display = 'none';
                document.querySelector('.sidebar-info').style.display = 'none';
                document.querySelector('.profile-details').style.display = 'none';
                document.querySelector('.new-post-card').style.display = 'none';
                document.querySelector('.post-card').style.display = 'none';
                
                // Hayalet fotoÄŸrafÄ± gÃ¶ster
                profilePhoto.classList.add('ghost');
                profilePhoto.innerHTML = '<i class="fas fa-ghost"></i>';
            } else if (userData.photo) {
                profilePhoto.style.backgroundImage = `url(${userData.photo})`;
                profilePhoto.style.backgroundSize = 'cover';
                profilePhoto.style.backgroundPosition = 'center';
            } else {
                profilePhoto.innerHTML = '<i class="fas fa-user"></i>';
            }
            
            // ... existing code ...
        }
    </script>
</body>
</html>